[gd_scene load_steps=12 format=3 uid="uid://byqiikcrcr3b6"]

[ext_resource type="Script" path="res://levels/boss_level/boss_level.gd" id="1_1s26r"]
[ext_resource type="PackedScene" uid="uid://ct1pleqq81l3g" path="res://entities/characters/player/player.tscn" id="1_qrw1g"]
[ext_resource type="PackedScene" uid="uid://d313je3pdtsvf" path="res://entities/items/torch/torch.tscn" id="3_bhv5j"]
[ext_resource type="PackedScene" uid="uid://x1xqx7th2b5h" path="res://entities/characters/black_arm/black_arm.tscn" id="4_q6oio"]
[ext_resource type="PackedScene" uid="uid://qtpumr7s7som" path="res://entities/characters/boss/boss.tscn" id="5_mq7me"]
[ext_resource type="PackedScene" uid="uid://c8rg4hgix726c" path="res://components/tilemap.tscn" id="7_ohfno"]
[ext_resource type="PackedScene" uid="uid://cfwhbeq4x0et2" path="res://components/ui/UI.tscn" id="7_vtgvi"]
[ext_resource type="Shader" path="res://components/shaders/fog.gdshader" id="8_tspkm"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_0ewhd"]
frequency = 0.0075

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_5ejbi"]
width = 320
height = 180
seamless = true
seamless_blend_skirt = 0.75
noise = SubResource("FastNoiseLite_0ewhd")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_onlsp"]
shader = ExtResource("8_tspkm")
shader_parameter/density = 0.25
shader_parameter/speed = Vector2(0.02, 0.01)
shader_parameter/noise_texture = SubResource("NoiseTexture2D_5ejbi")

[node name="BossLevel" type="Node2D" node_paths=PackedStringArray("player")]
y_sort_enabled = true
position = Vector2(272, 208)
script = ExtResource("1_1s26r")
player = NodePath("Player")

[node name="Player" parent="." instance=ExtResource("1_qrw1g")]
z_index = 10
position = Vector2(338, 240)

[node name="Marker2D" type="Marker2D" parent="."]
position = Vector2(336, 144)

[node name="Boss" parent="." node_paths=PackedStringArray("marker", "torchs", "black_arms") instance=ExtResource("5_mq7me")]
z_index = 10
y_sort_enabled = true
position = Vector2(336, 17)
scale = Vector2(1, 1)
marker = NodePath("../Marker2D")
torchs = [NodePath("../Torches/Torch"), NodePath("../Torches/Torch2"), NodePath("../Torches/Torch3"), NodePath("../Torches/Torch4"), NodePath("../Torches/Torch5"), NodePath("../Torches/Torch6")]
black_arms = [NodePath("../BlackArms/BlackArm"), NodePath("../BlackArms/BlackArm2"), NodePath("../BlackArms/BlackArm3"), NodePath("../BlackArms/BlackArm4"), NodePath("../BlackArms/BlackArm5"), NodePath("../BlackArms/BlackArm6")]

[node name="Ui" parent="." instance=ExtResource("7_vtgvi")]

[node name="TileMap" parent="." instance=ExtResource("7_ohfno")]
position = Vector2(24, 0)
layer_0/tile_data = PackedInt32Array(655378, 524288, 0, 589842, 851968, 5, 524306, 851968, 4, 458770, 655360, 6, 393234, 851968, 0, 327698, 524288, 0, 262162, 786432, 5, 196626, 720896, 1, 131090, 917504, 4, 65554, 917504, 4, 18, 720896, 0, 655377, 524288, 0, 589841, 851968, 5, 524305, 851968, 1, 458769, 983040, 6, 393233, 851968, 0, 327697, 524288, 0, 262161, 524288, 0, 196625, 851968, 5, 131089, 851968, 1, 65553, 851968, 4, 17, 851968, 0, 655376, 524288, 0, 589840, 851968, 5, 524304, 851968, 1, 458768, 655360, 6, 393232, 851968, 0, 327696, 524288, 0, 262160, 524288, 0, 196624, 786432, 5, 131088, 786432, 4, 65552, 851968, 1, 16, 851968, 0, 655375, 524288, 0, 589839, 851968, 5, 524303, 851968, 1, 458767, 851968, 1, 393231, 851968, 0, 327695, 524288, 0, 262159, 524288, 0, 196623, 524288, 0, 131087, 851968, 5, 65551, 851968, 1, 15, 851968, 0, 655374, 720896, 5, 589838, 786432, 2, 524302, 851968, 4, 458766, 786432, 1, 393230, 786432, 0, 327694, 524288, 0, 262158, 524288, 0, 196622, 524288, 0, 131086, 786432, 5, 65550, 720896, 3, 14, 786432, 0, 655373, 851968, 5, 589837, 851968, 1, 524301, 851968, 1, 458765, 851968, 0, 393229, 524288, 0, 327693, 524288, 0, 262157, 524288, 0, 196621, 524288, 0, 131085, 524288, 0, 65549, 524288, 0, 13, 524288, 0, 655372, 851968, 5, 589836, 786432, 1, 524300, 720896, 3, 458764, 786432, 0, 393228, 524288, 0, 327692, 524288, 0, 262156, 524288, 0, 196620, 524288, 0, 131084, 524288, 0, 65548, 524288, 0, 12, 524288, 0, 655371, 851968, 5, 589835, 851968, 0, 524299, 524288, 0, 458763, 524288, 0, 393227, 524288, 0, 327691, 524288, 0, 262155, 524288, 0, 196619, 720896, 5, 131083, 917504, 4, 65547, 917504, 4, 11, 720896, 0, 655370, 851968, 5, 589834, 851968, 0, 524298, 524288, 0, 458762, 983040, 0, 393226, 524288, 0, 327690, 524288, 0, 262154, 524288, 0, 196618, 851968, 5, 131082, 851968, 4, 65546, 851968, 4, 10, 851968, 0, 655369, 786432, 5, 589833, 786432, 0, 524297, 524288, 0, 458761, 589824, 0, 393225, 524288, 0, 327689, 720896, 5, 262153, 917504, 4, 196617, 720896, 4, 131081, 720896, 3, 65545, 720896, 3, 9, 786432, 0, 655368, 524288, 0, 589832, 524288, 0, 524296, 524288, 0, 458760, 524288, 0, 393224, 524288, 0, 327688, 851968, 5, 262152, 851968, 1, 196616, 851968, 0, 131080, 524288, 0, 65544, 524288, 0, 8, 524288, 0, 655367, 720896, 5, 589831, 917504, 4, 524295, 720896, 0, 458759, 524288, 0, 393223, 524288, 0, 327687, 851968, 5, 262151, 851968, 6, 196615, 851968, 0, 131079, 524288, 0, 65543, 524288, 0, 7, 524288, 0, 655366, 851968, 5, 589830, 655360, 6, 524294, 851968, 0, 458758, 524288, 0, 393222, 524288, 0, 327686, 851968, 5, 262150, 851968, 1, 196614, 851968, 0, 131078, 524288, 0, 65542, 524288, 0, 6, 524288, 0, 655365, 851968, 5, 589829, 851968, 4, 524293, 851968, 0, 458757, 524288, 0, 393221, 524288, 0, 327685, 851968, 5, 262149, 851968, 4, 196613, 851968, 0, 131077, 524288, 0, 65541, 524288, 0, 5, 524288, 0, 655364, 786432, 5, 589828, 720896, 3, 524292, 655360, 0, 458756, 524288, 0, 393220, 524288, 0, 327684, 786432, 5, 262148, 720896, 3, 196612, 720896, 1, 131076, 917504, 4, 65540, 720896, 0, 4, 524288, 0, 655363, 524288, 0, 589827, 524288, 0, 524291, 917504, 5, 458755, 917504, 4, 393219, 720896, 0, 327683, 524288, 0, 262147, 524288, 0, 196611, 851968, 5, 131075, 851968, 4, 65539, 851968, 0, 3, 524288, 0, 655362, 524288, 0, 589826, 524288, 0, 524290, 786432, 5, 458754, 786432, 4, 393218, 851968, 0, 327682, 524288, 0, 262146, 524288, 0, 196610, 851968, 5, 131074, 851968, 4, 65538, 851968, 0, 2, 524288, 0, 655361, 524288, 0, 589825, 524288, 0, 524289, 524288, 0, 458753, 851968, 5, 393217, 851968, 0, 327681, 524288, 0, 262145, 524288, 0, 196609, 786432, 5, 131073, 720896, 3, 65537, 786432, 0, 1, 524288, 0, 655360, 524288, 0, 589824, 524288, 0, 524288, 524288, 0, 458752, 786432, 5, 393216, 786432, 0, 327680, 524288, 0, 262144, 524288, 0, 196608, 524288, 0, 131072, 524288, 0, 65536, 524288, 0, 0, 524288, 0, 589843, 720896, 5, 524307, 917504, 4, 458771, 917504, 4, 393235, 720896, 0, 327699, 524288, 0, 262163, 720896, 5, 196627, 720896, 0, 131091, 524288, 0, 65555, 524288, 0, 19, 524288, 0, 655379, 524288, 0, 851977, 524288, 0, 786441, 524288, 0, 720905, 524288, 0, 851978, 524288, 0, 786442, 524288, 0, 720906, 524288, 0, 720916, 524288, 0, 655380, 524288, 0, 589844, 524288, 0, 524308, 524288, 0, 458772, 524288, 0, 393236, 524288, 0, 327700, 524288, 0, 262164, 524288, 0, 196628, 524288, 0, 131092, 524288, 0, 65556, 524288, 0, 20, 524288, 0, -65516, 524288, 0, 720915, 524288, 0, -65517, 524288, 0, 720914, 524288, 0, -65518, 524288, 0, 720913, 524288, 0, -65519, 524288, 0, 720912, 524288, 0, -65520, 524288, 0, 720911, 524288, 0, -65521, 524288, 0, 720910, 524288, 0, -65522, 524288, 0, 720909, 524288, 0, -65523, 524288, 0, 720908, 524288, 0, -65524, 524288, 0, 720907, 524288, 0, -65525, 524288, 0, -65526, 524288, 0, -65527, 524288, 0, 720904, 524288, 0, -65528, 524288, 0, 720903, 524288, 0, -65529, 524288, 0, 720902, 524288, 0, -65530, 524288, 0, 720901, 524288, 0, -65531, 524288, 0, 720900, 524288, 0, -65532, 524288, 0, 720899, 524288, 0, -65533, 524288, 0, 720898, 524288, 0, -65534, 524288, 0, 720897, 524288, 0, -65535, 524288, 0, 720896, 524288, 0, -65536, 524288, 0, 786431, 524288, 0, 720895, 524288, 0, 655359, 524288, 0, 589823, 524288, 0, 524287, 524288, 0, 458751, 524288, 0, 393215, 524288, 0, 327679, 524288, 0, 262143, 524288, 0, 196607, 524288, 0, 131071, 524288, 0, 65535, 524288, 0, -1, 524288, 0)
layer_1/z_index = 2
layer_1/tile_data = PackedInt32Array(-131072, 196608, 8, -131071, 196608, 8, -131070, 196608, 8, -131069, 196608, 8, -131068, 196608, 8, -131067, 196608, 8, -131066, 196608, 8, -131065, 196608, 8, -131064, 196608, 8, -131063, 196608, 8, -131062, 196608, 8, -131061, 196608, 8, -131060, 196608, 8, -131059, 196608, 8, -131058, 196608, 8, -131057, 196608, 8, -131056, 196608, 8, -131055, 196608, 8, -131054, 196608, 8, -131053, 196608, 8, -131052, 131072, 9, -65516, 131072, 9, 20, 131072, 9, 65556, 131072, 9, 131092, 131072, 9, 196628, 131072, 9, 262164, 131072, 9, 327700, 131072, 9, 393236, 131072, 9, 458772, 131072, 9, 524308, 131072, 9, 589844, 131072, 9, 655380, 131072, 9, -65537, 131072, 9, -1, 131072, 9, 65535, 131072, 9, 131071, 131072, 9, 196607, 131072, 9, 262143, 131072, 9, 327679, 131072, 9, 393215, 131072, 9, 458751, 131072, 9, 524287, 131072, 9, 589823, 131072, 9, 655359, 131072, 9, 720895, 131072, 9, 720916, 131072, 10, 720896, 65536, 10, 720897, 65536, 10, 720898, 65536, 10, 720899, 65536, 10, 720900, 65536, 10, 720901, 65536, 10, 720902, 65536, 10, 720903, 65536, 10, 720908, 65536, 10, 720909, 65536, 10, 720910, 65536, 10, 720911, 65536, 10, 720912, 65536, 10, 720913, 65536, 10, 720914, 65536, 10, 720915, 65536, 10, -196608, 65536, 10, -196607, 65536, 10, -196606, 65536, 10, -196605, 65536, 10, -196604, 65536, 10, -196603, 65536, 10, -196602, 65536, 10, -196601, 65536, 10, -196600, 65536, 10, -196599, 65536, 10, -196598, 65536, 10, -196597, 65536, 10, -196596, 65536, 10, -196595, 65536, 10, -196594, 65536, 10, -196593, 65536, 10, -196592, 65536, 10, -196591, 65536, 10, -196590, 65536, 10, -196589, 65536, 10, -131073, 0, 8, -196588, 131072, 8, 786431, 0, 10, 786443, 131072, 9, 851979, 131072, 9, 786440, 131072, 9, 851976, 131072, 9, 720907, 0, 8, 720904, 131072, 8, 720905, 1, 65536, 720906, 1, 65536)
layer_2/tile_data = PackedInt32Array(327682, 655360, 8, 327697, 655360, 8, 65542, 655360, 8, 65549, 655360, 8, 524294, 655360, 8, 524301, 655360, 8)

[node name="Torches" type="Node2D" parent="."]
z_index = 2

[node name="Torch3" parent="Torches" instance=ExtResource("3_bhv5j")]
position = Vector2(24, 144)
torch_scale = Vector2(3, 4)
torch_color = Color(0.172549, 0.847059, 0.921569, 1)

[node name="Torch4" parent="Torches" instance=ExtResource("3_bhv5j")]
position = Vector2(664, 144)
torch_scale = Vector2(3, 4)
torch_color = Color(0.172549, 0.847059, 0.921569, 1)

[node name="Torch5" parent="Torches" instance=ExtResource("3_bhv5j")]
position = Vector2(150, 352)
torch_scale = Vector2(3, 4)
torch_color = Color(0.172549, 0.847059, 0.921569, 1)

[node name="Torch6" parent="Torches" instance=ExtResource("3_bhv5j")]
position = Vector2(536, 352)
torch_scale = Vector2(3, 4)
torch_color = Color(0.172549, 0.847059, 0.921569, 1)

[node name="Torch" parent="Torches" instance=ExtResource("3_bhv5j")]
position = Vector2(208, -32)
torch_scale = Vector2(3, 4)
torch_color = Color(0.172549, 0.847059, 0.921569, 1)

[node name="Torch2" parent="Torches" instance=ExtResource("3_bhv5j")]
position = Vector2(464, -40)
torch_scale = Vector2(3, 4)
torch_color = Color(0.172549, 0.847059, 0.921569, 1)

[node name="BlackArms" type="Node2D" parent="."]

[node name="BlackArm" parent="BlackArms" instance=ExtResource("4_q6oio")]
process_mode = 4
visible = false
position = Vector2(456, 40)
radius = 300.0

[node name="BlackArm2" parent="BlackArms" instance=ExtResource("4_q6oio")]
process_mode = 4
visible = false
position = Vector2(231, 40)
radius = 300.0

[node name="BlackArm3" parent="BlackArms" node_paths=PackedStringArray("sightCollisionShape", "black_hand") instance=ExtResource("4_q6oio")]
process_mode = 4
visible = false
position = Vector2(104, 168)
radius = 300.0
sightCollisionShape = NodePath("../BlackArm2/Sight/CollisionShape2D")
black_hand = NodePath("../BlackArm2/BlackHand")

[node name="BlackArm4" parent="BlackArms" node_paths=PackedStringArray("sightCollisionShape", "black_hand") instance=ExtResource("4_q6oio")]
process_mode = 4
visible = false
position = Vector2(584, 168)
radius = 300.0
sightCollisionShape = NodePath("../BlackArm2/Sight/CollisionShape2D")
black_hand = NodePath("../BlackArm2/BlackHand")

[node name="BlackArm5" parent="BlackArms" node_paths=PackedStringArray("sightCollisionShape", "black_hand") instance=ExtResource("4_q6oio")]
process_mode = 4
visible = false
position = Vector2(232, 280)
radius = 300.0
sightCollisionShape = NodePath("../BlackArm2/Sight/CollisionShape2D")
black_hand = NodePath("../BlackArm2/BlackHand")

[node name="BlackArm6" parent="BlackArms" node_paths=PackedStringArray("sightCollisionShape", "black_hand") instance=ExtResource("4_q6oio")]
process_mode = 4
visible = false
position = Vector2(456, 280)
radius = 300.0
sightCollisionShape = NodePath("../BlackArm2/Sight/CollisionShape2D")
black_hand = NodePath("../BlackArm2/BlackHand")

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
energy = 0.8
blend_mode = 1

[node name="Fog" type="ParallaxBackground" parent="."]
layer = 1
scale = Vector2(2, 2)
transform = Transform2D(2, 0, 0, 2, 0, 0)
scroll_ignore_camera_zoom = true

[node name="ParallaxLayer" type="ParallaxLayer" parent="Fog"]
motion_mirroring = Vector2(640, 360)

[node name="ColorRect" type="ColorRect" parent="Fog/ParallaxLayer"]
material = SubResource("ShaderMaterial_onlsp")
offset_right = 640.0
offset_bottom = 360.0
color = Color(0.172549, 0.847059, 0.921569, 1)

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="."]
vertices = PackedVector2Array(216, 64, 248, 64, 248, 72, 216, 72)
avoidance_layers = 2

[node name="NavigationObstacle2D2" type="NavigationObstacle2D" parent="."]
vertices = PackedVector2Array(440, 64, 440, 72, 472, 72, 472, 64)
avoidance_layers = 2

[node name="NavigationObstacle2D3" type="NavigationObstacle2D" parent="."]
vertices = PackedVector2Array(568, 192, 600, 192, 600, 200, 568, 200)
avoidance_layers = 2

[node name="NavigationObstacle2D4" type="NavigationObstacle2D" parent="."]
vertices = PackedVector2Array(440, 288, 440, 296, 472, 296, 472, 288)
avoidance_layers = 2

[node name="NavigationObstacle2D5" type="NavigationObstacle2D" parent="."]
vertices = PackedVector2Array(216, 288, 216, 296, 248, 296, 248, 288)
avoidance_layers = 2

[node name="NavigationObstacle2D6" type="NavigationObstacle2D" parent="."]
vertices = PackedVector2Array(88, 192, 88, 200, 120, 200, 120, 192)
avoidance_layers = 2
